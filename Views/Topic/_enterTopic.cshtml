@using Microsoft.AspNetCore.Identity
@inject UserManager<IdentityUser> UserManager
@inject SignInManager<IdentityUser> SignInManager
@model Forum.Models.Database.Topic
@{
    foreach (var item in Model.Posts)
    {
        var author = await UserManager.FindByIdAsync(item.UserId);

        var isLogged = false;
        if (SignInManager.IsSignedIn(User))
        {
            isLogged = item.UserId == author.Id;
        }

        // Wyświetlenie postów dla danego tematu na stronie
        <post author="@author" text="@item.Text" logged="@isLogged">
            <template v-slot:delete>
                @{
                    await Html.RenderPartialAsync("~/Views/Post/_deletePost.cshtml", item);
                }
            </template>
            <template v-slot:edit>
                @{
                    await Html.RenderPartialAsync("~/Views/Post/_editPost.cshtml", item);
                }
            </template>
        </post>
    }
}